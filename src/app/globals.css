@import "tailwindcss";
@plugin "@tailwindcss/typography";
@import "tw-animate-css";
/* TODO Hero UI is not fully compatible with Tailwind v4.0.0 */
@config "../../hero.ts";
@source '../../node_modules/@heroui/theme/dist/**/*.{js,ts,jsx,tsx}';

/* Dark-Variant wirkt auf .dark UND data-theme="dark" (Tailwind v4) */
@variant dark (&:where(.dark, .dark *), &:where([data-theme="dark"], [data-theme="dark"] *));

/* ------------------------------------------------------- */
/*         Basis + Farb-Token (Light)                      */
/* ------------------------------------------------------- */
:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

:root {
  --background: hsl(0 0% 100%);
  --foreground: hsl(240 10% 3.9%);
  --card: hsl(0 0% 100%);
  --card-foreground: hsl(240 10% 3.9%);
  --popover: hsl(0 0% 100%);
  --popover-foreground: hsl(240 10% 3.9%);
  --primary: hsl(240 5.9% 10%);
  --primary-foreground: hsl(0 0% 98%);
  --secondary: hsl(240 4.8% 95.9%);
  --secondary-foreground: hsl(240 5.9% 10%);
  --muted: hsl(240 4.8% 95.9%);
  --muted-foreground: hsl(240 3.8% 46.1%);
  --accent: hsl(240 4.8% 95.9%);
  --accent-foreground: hsl(240 5.9% 10%);
  --destructive: hsl(0 84.2% 60.2%);
  --destructive-foreground: hsl(0 0% 100%);
  --border: hsl(240 5.9% 90%);
  --input: hsl(240 5.9% 90%);
  --ring: hsl(240 10% 3.9%);
  --link: hsl(214 100% 50%);
  --chart-1: hsl(12 76% 61%);
  --chart-2: hsl(173 58% 39%);
  --chart-3: hsl(197 37% 24%);
  --chart-4: hsl(43 74% 66%);
  --chart-5: hsl(27 87% 67%);
  --radius: 0.5rem;

  --sidebar-background: hsl(0 0% 97%);
  --sidebar-foreground: var(--foreground);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: var(--accent);
  --sidebar-accent-foreground: var(--accent-foreground);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);
}

/* ------------------------------------------------------- */
/*         Dark-Token: gelten für .dark ODER data-theme     */
/* ------------------------------------------------------- */
:root.dark,
:root[data-theme="dark"] {
  --background: hsl(217 32% 12%);
  --foreground: hsl(0 0% 98%);
  --card: hsl(240 10% 3.9%);
  --card-foreground: hsl(0 0% 98%);
  --popover: hsl(240 10% 3.9%);
  --popover-foreground: hsl(0 0% 98%);
  --primary: hsl(0 0% 98%);
  --primary-foreground: hsl(240 5.9% 10%);
  --secondary: hsl(217 32% 35%);
  --secondary-foreground: hsl(0 0% 98%);
  --muted: hsl(217 32% 35%);
  --muted-foreground: hsl(240 5% 84%);
  --accent: hsl(217 32% 35%);
  --accent-foreground: hsl(0 0% 98%);
  --destructive: hsl(0 84.2% 60.2%);
  --destructive-foreground: hsl(0 0% 100%);
  --border: hsl(217 32% 32%);
  --input: hsl(217 32% 32%);
  --ring: hsl(240 4.9% 83.9%);

  --chart-1: hsl(220 70% 50%);
  --chart-2: hsl(160 60% 45%);
  --chart-3: hsl(30 80% 55%);
  --chart-4: hsl(280 65% 60%);
  --chart-5: hsl(340 75% 55%);

  --sidebar-background: hsl(217 32% 10%);
  --sidebar-foreground: var(--foreground);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: var(--accent);
  --sidebar-accent-foreground: var(--accent-foreground);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--ring);
}

/* ------------------------------------------------------- */
/*         Tailwind @theme Mapping                          */
/* ------------------------------------------------------- */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar-background);
  --color-sidebar-background: var(--sidebar-background);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

@utility text-balance { text-wrap: balance; }

@layer base {
  * { @apply border-border; }
  body { @apply bg-background text-foreground; }
}

/* === Sidebar-Knob: Styles & Animationen (DaisyUI-kompatibel, Theme-sicher) === */

/* Dezente Richtungs-Andeutung auf Hover */
@keyframes nudge-left {
  0%, 100% { transform: translateX(0) }
  50% { transform: translateX(-2px) }
}
@keyframes nudge-right {
  0%, 100% { transform: translateX(0) }
  50% { transform: translateX( 2px) }
}

@layer components {
  /* 1) VERSCHMELZEN: exakt gleiche Farben wie Sidebar (hell & dunkel) */
  .knob-merge {
    background: var(--color-sidebar-background);
    /* Nur zur Content-Seite (rechts) eine feine Linie wie die Sidebar-Border */
    border-right: 1px solid var(--color-sidebar-border);
    border-top: 0px solid var(--color-sidebar-border);
    border-bottom: 0px solid var(--color-sidebar-border);
  }

  /* 2) FORM wie in 2.png: links bündig/nahtlos, rechts rund */
  .knob-fuse {
    border-left-width: 0;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-top-right-radius: 9999px;
    border-bottom-right-radius: 9999px;
  }

  /* 3) Keine „aufgesetzte“ Optik: Shadow nur nach rechts (zum Content) */
  .knob-shadow-right {
    box-shadow: 14px 0 26px -18px rgba(0,0,0,.18);
  }

  /* 4) Naht kaschieren: 1px Überlappung auf der linken Kante */
  .knob-hide-seam::before {
    content: "";
    position: absolute;
    left: -1px; top: 0; bottom: 0; width: 1px;
    background: var(--color-sidebar-background);
  }

  /* 5) Optional (Chrome/Edge/WebKit): nur rechte Seite „sichtbar“ maskieren
        → verstärkt die Illusion, dass links nichts „aufgesetzt“ ist */
  .knob-right-mask {
    -webkit-mask-image: linear-gradient(to right, transparent 0, #000 1px);
            mask-image: linear-gradient(to right, transparent 0, #000 1px);
  }
}

/* Safe-Area Utility (für den mobilen Fallback-Knubbel links) */
@layer utilities {
  .safe-left { left: max(env(safe-area-inset-left), 0px); }
}

/* Dezente Richtungs-Andeutung auf Hover */
@keyframes nudge-left {
  0%, 100% { transform: translateX(0) }
  50% { transform: translateX(-2px) }
}
@keyframes nudge-right {
  0%, 100% { transform: translateX(0) }
  50% { transform: translateX( 2px) }
}

/* glänzender, silbriger Hintergrund – nutzt deine Theme-Variablen */
@layer components {
  /* Gleiche Farbe wie die Sidebar, aber OHNE globale Border */
  .knob-merge {
    background: var(--color-sidebar-background);
  }

  /* Nur die Content-Seite (rechts) soll eine feine Linie haben */
  .knob-edge {
    border-right: 1px solid var(--color-sidebar-border);
  }

  /* Linke Seite bündig/nahtlos, rechts rund */
  .knob-fuse {
    border-left-width: 0;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-top-right-radius: 9999px;
    border-bottom-right-radius: 9999px;
  }

  /* Schatten nur nach rechts (wirkt nicht „aufgesetzt“ zur Sidebar) */
  .knob-shadow-right {
    box-shadow: 14px 0 26px -18px rgba(0,0,0,.18);
  }
}

@layer utilities {
  /* Zugänglicher Focus-Ring statt Browser-Outline/Border */
  .knob-focus { outline: 0; box-shadow: none; }
  .knob-focus:focus-visible {
    outline: 0;
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-sidebar-ring) 45%, transparent);
  }
}

/* Mobile-Safe-Area helper (nutzt CSS env()) – für Fallback-Knubbel */
@layer utilities {
  .safe-left { left: max(env(safe-area-inset-left), 0.5rem); }
}